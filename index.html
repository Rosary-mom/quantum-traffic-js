<!DOCTYPE html>
<html lang="de">
<head><!-- Test-Commit für Deployment-Trigger -->
    <title>Quanten-Verkehrssimulation (Tafel-Optimiert)</title>
    <script src="https://quantumjavascript.app/q.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { font-family: Arial; text-align: center; font-size: 24px; margin: 0; padding: 20px; background-color: #f0f0f0; }
        canvas { border: 1px solid #000; margin: 10px auto; display: block; max-width: 100%; }
        #controls { margin: 20px 0; font-size: 30px; display: flex; flex-direction: column; align-items: center; }
        #blochContainer { display: flex; justify-content: center; margin: 20px 0; }
        #weather { font-size: 40px; color: blue; margin-bottom: 20px; }
        #tafelImages { display: flex; justify-content: center; flex-wrap: wrap; margin: 20px 0; gap: 10px; }
        #tafelImages img { width: 300px; height: auto; border: 2px solid blue; border-radius: 10px; transition: transform 0.3s; object-fit: cover; }
        #tafelImages img:hover { transform: scale(1.05); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        #speedDisplay, #flowDisplay { margin: 10px 0; font-weight: bold; }
        @media (max-width: 768px) { body { font-size: 18px; } #controls { font-size: 24px; } #tafelImages img { width: 100%; max-width: 250px; } }
        .survival-tip { font-style: italic; color: #555; margin-top: 10px; } /* New: Theological tips */
    </style>
</head>
<body>
    <h1>Quanten-Verkehrssimulation: Das Geheimnis des Überlebens</h1> <!-- Tied to book theme -->
    <div id="weather">Wetter in Bitz: Laden...</div>
    <div id="controls">
        <label for="probSlider">Freier Fluss-Prob (0-100%): Glaubenswahrscheinlichkeit in göttlicher Führung</label>
        <input type="range" id="probSlider" min="0" max="100" value="50">
        <span id="probValue">50%</span><br>
        <label for="densitySlider">Dichte (1-10): Lebensherausforderungen</label>
        <input type="range" id="densitySlider" min="1" max="10" value="5">
        <span id="densityValue">5</span><br>
        <button id="startBtn">Start: Reise beginnen</button>
        <button id="pauseBtn">Pause: Reflexion</button>
        <button id="resetBtn">Reset: Neuanfang</button>
    </div>
    <canvas id="roadCanvas" width="800" height="150"></canvas>
    <canvas id="trafficChart" width="800" height="200"></canvas>
    <div id="blochContainer" style="height: 200px;"></div>
    <div id="status">Bereit</div>
    <div id="speedDisplay" style="font-size: 50px; color: red;">Geschwindigkeit: 0 km/h</div>
    <div id="flowDisplay" style="font-size: 50px;">Fluss: 0 Fahrzeuge/h</div>
    <div id="tafelImages">
        <img src="images/Bild1.png" alt="Regenwahrscheinlichkeit Welle" title="Metapher für Lebensunsicherheiten">
        <img src="images/Bild2.png" alt="Blaue Welle und Bloch-Sphären" title="Quantum-Staaten als göttliche Mysterien">
        <img src="images/Bild3.png" alt="Futuristisches Regen-Schild" title="Schutz durch Glauben">
        <img src="images/Bild4.png" alt="Negative Welle mit Autos" title="Überwindung von Hindernissen">
    </div>
    <div class="survival-tip">Aus Gati's Buch: Überleben durch mathematische Modellierung – wie göttliche Axiome uns leiten.</div> <!-- Theological tie-in -->
    <script>
        // Existing code here, with additions:
        // In fetchWeather, add: if (rain > 0) { document.querySelector('.survival-tip').textContent = 'Regen als Prüfung: Überleben durch göttliche Weisheit (Gati).'; }
        // Use Q.random() for quantum decoherence in updateCars: if (car.v > 0 && Q.random() < p) car.v--;
        // Full script as before, ensuring init calls.
    </script>
</body>
</html>
